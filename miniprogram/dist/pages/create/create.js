"use strict";(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[619],{2420:function(e,s,t){var n=t(8870),c=t(4705);function r(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,n)}return t}function l(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?r(Object(t),!0).forEach(function(s){(0,c.A)(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}var a=t(6540),i=t(118),o=t(758),h=t.n(o),d=t(4848);class p extends a.Component{constructor(){super(...arguments),(0,c.A)(this,"state",{currentStep:0,answers:{},lyrics:null,selectedStyle:null,music:null,loading:!1}),(0,c.A)(this,"steps",[{title:"\u56de\u7b54\u95ee\u9898",key:"questions"},{title:"\u751f\u6210\u6b4c\u8bcd",key:"lyrics"},{title:"\u9009\u62e9\u98ce\u683c",key:"style"},{title:"\u751f\u6210\u97f3\u4e50",key:"music"}]),(0,c.A)(this,"nextStep",()=>{const{currentStep:e}=this.state;e<this.steps.length-1&&this.setState({currentStep:e+1})}),(0,c.A)(this,"prevStep",()=>{const{currentStep:e}=this.state;e>0&&this.setState({currentStep:e-1})}),(0,c.A)(this,"answerQuestion",(e,s)=>{this.setState({answers:l(l({},this.state.answers),{},{[e]:s})})}),(0,c.A)(this,"selectStyle",e=>{this.setState({selectedStyle:e})}),(0,c.A)(this,"renderStepContent",()=>{const{currentStep:e,answers:s,lyrics:t,selectedStyle:n,music:c,loading:r}=this.state;switch(e){case 0:return(0,d.jsxs)(i.Ss,{className:"step-content",children:[(0,d.jsx)(i.EY,{className:"step-title",children:"\u56de\u7b54\u51e0\u4e2a\u95ee\u9898"}),(0,d.jsx)(i.EY,{className:"step-desc",children:"\u5e2e\u52a9\u6211\u4eec\u4e86\u89e3\u4f60\u7684\u6545\u4e8b"}),(0,d.jsx)(i.Ss,{className:"questions",children:(0,d.jsxs)(i.Ss,{className:"question-item",children:[(0,d.jsx)(i.EY,{className:"question-text",children:"\u4f60\u4eec\u662f\u600e\u4e48\u8ba4\u8bc6\u7684\uff1f"}),(0,d.jsxs)(i.Ss,{className:"answer-options",children:[(0,d.jsx)(i.$n,{className:"answer-btn",onClick:()=>this.answerQuestion("meet","\u670b\u53cb\u4ecb\u7ecd"),children:"\u670b\u53cb\u4ecb\u7ecd"}),(0,d.jsx)(i.$n,{className:"answer-btn",onClick:()=>this.answerQuestion("meet","\u5de5\u4f5c\u540c\u4e8b"),children:"\u5de5\u4f5c\u540c\u4e8b"}),(0,d.jsx)(i.$n,{className:"answer-btn",onClick:()=>this.answerQuestion("meet","\u7f51\u7edc\u8ba4\u8bc6"),children:"\u7f51\u7edc\u8ba4\u8bc6"})]})]})})]});case 1:return(0,d.jsxs)(i.Ss,{className:"step-content",children:[(0,d.jsx)(i.EY,{className:"step-title",children:"\u751f\u6210\u6b4c\u8bcd"}),(0,d.jsx)(i.EY,{className:"step-desc",children:"\u57fa\u4e8e\u4f60\u7684\u6545\u4e8b\u521b\u4f5c\u6b4c\u8bcd"}),r?(0,d.jsx)(i.Ss,{className:"loading",children:(0,d.jsx)(i.EY,{className:"loading-text",children:"\u6b63\u5728\u751f\u6210\u6b4c\u8bcd..."})}):t?(0,d.jsx)(i.Ss,{className:"lyrics-content",children:(0,d.jsx)(i.EY,{className:"lyrics-text",children:t.content})}):null]});case 2:return(0,d.jsxs)(i.Ss,{className:"step-content",children:[(0,d.jsx)(i.EY,{className:"step-title",children:"\u9009\u62e9\u97f3\u4e50\u98ce\u683c"}),(0,d.jsx)(i.EY,{className:"step-desc",children:"\u9009\u62e9\u4f60\u559c\u6b22\u7684\u97f3\u4e50\u98ce\u683c"}),(0,d.jsxs)(i.Ss,{className:"style-options",children:[(0,d.jsx)(i.$n,{className:"style-btn",onClick:()=>this.selectStyle("pop"),children:"\u6d41\u884c"}),(0,d.jsx)(i.$n,{className:"style-btn",onClick:()=>this.selectStyle("folk"),children:"\u6c11\u8c23"}),(0,d.jsx)(i.$n,{className:"style-btn",onClick:()=>this.selectStyle("rock"),children:"\u6447\u6eda"})]})]});case 3:return(0,d.jsxs)(i.Ss,{className:"step-content",children:[(0,d.jsx)(i.EY,{className:"step-title",children:"\u751f\u6210\u97f3\u4e50"}),(0,d.jsx)(i.EY,{className:"step-desc",children:"\u4e3a\u4f60\u7684\u6b4c\u8bcd\u914d\u4e0a\u97f3\u4e50"}),r?(0,d.jsx)(i.Ss,{className:"loading",children:(0,d.jsx)(i.EY,{className:"loading-text",children:"\u6b63\u5728\u751f\u6210\u97f3\u4e50..."})}):c?(0,d.jsxs)(i.Ss,{className:"music-content",children:[(0,d.jsx)(i.EY,{className:"music-title",children:"\u97f3\u4e50\u751f\u6210\u5b8c\u6210\uff01"}),(0,d.jsx)(i.$n,{className:"btn-primary",onClick:()=>h().showToast({title:"\u4fdd\u5b58\u6210\u529f",icon:"success"}),children:"\u4fdd\u5b58\u4f5c\u54c1"})]}):null]});default:return null}})}render(){const{currentStep:e,loading:s}=this.state,t=(e+1)/this.steps.length*100;return(0,d.jsxs)(i.Ss,{className:"create",children:[(0,d.jsxs)(i.Ss,{className:"create-header",children:[(0,d.jsx)(i.EY,{className:"create-title",children:"\u521b\u4f5c\u60c5\u6b4c"}),(0,d.jsx)(i.ke,{percent:t,strokeWidth:4,color:"#ff6b9d",backgroundColor:"#f0f0f0"}),(0,d.jsxs)(i.EY,{className:"step-indicator",children:[e+1," / ",this.steps.length]})]}),(0,d.jsx)(i.Ss,{className:"create-content",children:this.renderStepContent()}),(0,d.jsxs)(i.Ss,{className:"create-footer",children:[e>0&&(0,d.jsx)(i.$n,{className:"btn-secondary",onClick:this.prevStep,children:"\u4e0a\u4e00\u6b65"}),e<this.steps.length-1&&(0,d.jsx)(i.$n,{className:"btn-primary",onClick:this.nextStep,disabled:s,children:"\u4e0b\u4e00\u6b65"})]})]})}}var u={navigationBarTitleText:"\u521b\u4f5c\u60c5\u6b4c"},m=(0,n.eU)(p,"pages/create/create",{root:{cn:[]}},u||{});p&&p.behaviors&&(m.behaviors=(m.behaviors||[]).concat(p.behaviors));Page(m)}},function(e){var s=function(s){return e(e.s=s)};e.O(0,[907,96],function(){return s(2420)});e.O()}]);